<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/><title>Write a Firefox extension to rotate images in online mapping applications</title><meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<link rel="schema.DC" href="http://purl.org/DC/elements/1.0/" />
<link rel="SHORTCUT ICON" href="http://www.ibm.com/favicon.ico" />
<meta name="Owner" content="dW Information/Raleigh/IBM" />
<meta name="DC.Language" scheme="rfc1766" content="en" />
<meta name="IBM.Country" content="ZZ" />
<meta name="Security" content="Public" />
<meta name="IBM.SpecialPurpose" content="SP001" />
<meta name="IBM.PageAttributes" content="sid=1003"/>
<meta name="Source" content="Based on v15 Template Generator, Template 15"/><meta name="Abstract" content="Learn how to use JavaScript and the Imager Perl module to interface with a Firefox extension for rotating image tiles in Google Maps." /><meta name="Description" content="Learn how to use JavaScript and the Imager Perl module to interface with a Firefox extension for rotating image tiles in Google Maps." /><meta name="Keywords" content="Firefox, Google Maps, Imager, Perl rotation, open source, Nathan Harrington, tttosca" /><meta name="DC.Date" scheme="iso8601" content="2008-10-14" /><meta name="DC.Type" scheme="IBM_ContentClassTaxonomy" content="CT316" /><meta name="DC.Subject" scheme="IBM_SubjectTaxonomy" content="TT400" /><meta name="DC.Rights" content="Copyright (c) 2008 by IBM Corporation" /> <meta name="Robots" content="index,follow" /><meta name="IBM.Effective" scheme="W3CDTF" content="2008-10-14" /><meta name="Last update" content="14102008krjones@us.ibm.com" /><!-- STYLESHEETS/SCRIPTS -->
<!-- for tables -->
<link rel="stylesheet" type="text/css" media="screen,print" href="//www.ibm.com/common/v15/table.css" /> 
<!-- end for tables -->
<script language="JavaScript" src="/developerworks/js/dwcss14.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="//www.ibm.com/common/v15/main.css" />
<link rel="stylesheet" type="text/css" media="all" href="//www.ibm.com/common/v15/screen.css" />
<link rel="stylesheet" type="text/css" media="print" href="//www.ibm.com/common/v15/print.css" />
<script language="JavaScript" src="//www.ibm.com/common/v15/detection.js" type="text/javascript"></script>
<script language="JavaScript" src="//www.ibm.com/common/js/ibmcommon.js" type="text/javascript">//</script>
<script language="JavaScript" src="//www.ibm.com/common/js/dynamicnav.js" type="text/javascript">//</script>
<script language="JavaScript" src="/developerworks/js/dropdown.js" type="text/javascript"></script>
<script language="JavaScript" src="/developerworks/email/grabtitle.js" type="text/javascript"></script>
<script language="JavaScript" src="/developerworks/email/emailfriend2.js" type="text/javascript"></script><script language="JavaScript" src="/developerworks/js/urltactic.js" type="text/javascript"></script><script language="JavaScript" type="text/javascript">
 <!--
 setDefaultQuery('opensourceart');
 //-->
</script>
<!--START RESERVED FOR FUTURE USE INCLUDE FILES--><script language="javascript" src="/developerworks/js/ajax1.js" type="text/javascript"></script><script language="javascript" src="/developerworks/js/search_counter.js" type="text/javascript"></script><script language="javascript" src="/developerworks/js/request_referer_capture.js" type="text/javascript"></script><script language="javascript" src="/developerworks/js/summaries_switcher.js" type="text/javascript"></script><!--END RESERVED FOR FUTURE USE INCLUDE FILES--><script language="JavaScript" type="text/javascript">var emailAbstract = "Learn how to use JavaScript and the Imager Perl module to interface with a Firefox extension for rotating image tiles in Google Maps."; </script></head><BR><BR>This is an archived cached-text copy of the developerWorks article.  Please consider viewing the original article at: <a href="http://www-128.ibm.com/developerworks/library/os-firefox-rotate-images">IBM developerWorks</a><BR><BR><BR><BR><body><!--MASTHEAD_BEGIN--><div id="ibm-top" class="ibm-liquid">
<div class="ibm-access"><a href="#main">Skip to main content</a></div>

<div id="ibm-masthead">
<div id="ibm-logo"><a href="http://www.ibm.com/"><img width="110" src="//www.ibm.com/i/v16/t/ibm-logo.gif" height="50" alt="IBM&reg;"/></a></div>

<ul id="ibm-geo">
<li class="ibm-first" id="ibm-country">Country/region</li>
<li id="ibm-change-country">[ <a href="http://www.ibm.com/developerworks/country/">select</a> ]</li>
</ul>

<form id="ibm-search-form" action="//www.ibm.com/developerworks/search/searchResults.jsp" method="get" name="form1"><input type="hidden" name="searchType" value="1"/><input type="hidden" name="searchSite" value="dW"/><p>
<span id="ibm-search-scope">
<label for="sn"><img src="//www.ibm.com/i/c.gif" width="1" height="1" alt="Search in:"/></label>
<select class="input-local" name="searchScope" id="sn" size="1">
<option value="dW" selected="selected">All of dW</option>
<option value="dW">-----------------</option>
<option value="aixunix">&nbsp;&nbsp;AIX and UNIX</option>
<option value="db2">&nbsp;&nbsp;Information Mgmt</option>
<option value="lotus">&nbsp;&nbsp;Lotus</option>
<option value="rdd">&nbsp;&nbsp;Rational</option>
<option value="tivoli">&nbsp;&nbsp;Tivoli</option>  
<option value="WSDD">&nbsp;&nbsp;WebSphere</option>
<option value="dW">-----------------</option> 
<option value="archZ">&nbsp;&nbsp;Architecture</option>
<option value="acZ">&nbsp;&nbsp;Autonomic computing</option>
<option value="javaZ">&nbsp;&nbsp;Java technology</option> 
<option value="linuxZ">&nbsp;&nbsp;Linux</option> 
<option value="paZ">&nbsp;&nbsp;Multicore acceleration</option>
<option value="opensrcZ">&nbsp;&nbsp;Open source</option>
<option value="webservZ">&nbsp;&nbsp;SOA &amp; Web services</option>
<option value="webarchZ">&nbsp;&nbsp;Web development</option>  
<option value="xmlZ">&nbsp;&nbsp;XML</option>
<option value="dW">-----------------</option>
<option value="forums">&nbsp;&nbsp;dW forums</option> 
<option value="dW">-----------------</option>
<option value="aW">alphaWorks</option>
<option value="dW">-----------------</option>
<option value="all">All of IBM</option>
</select>
</span>

<label for="q"><img alt="Search for:" height="1" width="1" src="//www.ibm.com/i/c.gif" /></label><input type="text" name="query" maxlength="100" id="q"/><input type="submit" id="ibm-search" class="ibm-btn-search" name="Search" value="Search" /></p></form>

<div id="ibm-site-name">
<!-- IBM site name container -->
</div>

<div id="ibm-universal-nav">
<ul>
<li class="ibm-first" id="ibm-unav-home"><a href="http://www.ibm.com/">Home</a></li>
<li id="ibm-unav-solutions"><a href="http://www.ibm.com/businesssolutions/">Business solutions</a></li>
<li id="ibm-unav-services"><a href="http://www.ibm.com/technologyservices/">IT services</a></li>
<li id="ibm-unav-products"><a href="http://www.ibm.com/products/">Products</a></li>
<li id="ibm-unav-support"><a href="http://www.ibm.com/support/">Support &amp; downloads</a></li>
<li id="ibm-unav-myibm"><a href="http://www.ibm.com/account/">My IBM</a></li>
</ul>
</div>

</div>

<script type="text/javascript" language="JavaScript" src="//www.ibm.com/common/v15/pmh.js">
</script>

<!--MASTHEAD_END--><!-- CMA ID: 344201 --> <!-- Site ID: 1 --><table id="v14-body-table" border="0" cellpadding="0" cellspacing="0" width="100%"><tr valign="top"><!--LEFTNAV_BEGIN--><td id="navigation" width="150"><table width="150" cellspacing="0" cellpadding="0" border="0"><tr><td class="left-nav-spacer"><a href="http://www.ibm.com/developerworks" class="left-nav-overview">Â </a></td></tr></table><table width="150" cellspacing="0" cellpadding="0" border="0"><tr><td colspan="2" class="left-nav-overview"><a href="http://www.ibm.com/developerworks" class="left-nav-overview">developerWorks</a></td></tr></table><table width="150" cellspacing="0" cellpadding="0" border="0"><tr><td colspan="2" class="left-nav-highlight"><a href="#" class="left-nav">In this article:</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#N10060" class="left-nav-child">Hardware and software requirements</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#N10071" class="left-nav-child">Description of rotation process</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#N100A7" class="left-nav-child">Modifying the existing extension</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#N1014D" class="left-nav-child">tileRotate.pl program  Rotating exported tiles</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#load" class="left-nav-child">Firefox modifications, loading the extension</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#N101CE" class="left-nav-child">Usage</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#N101EC" class="left-nav-child">Conclusion, further examples</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#download" class="left-nav-child">Download</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#resources" class="left-nav-child">Resources</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#author" class="left-nav-child">About the author</a></td></tr><tr class="left-nav-child-highlight"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/cl-bullet.gif"/></td><td><a href="#rate" class="left-nav-child">Rate this page</a></td></tr><tr class="left-nav-last"><td width="14"><img class="display-img" alt="" height="1" width="14" src="//www.ibm.com/i/c.gif"/></td><td width="136"><img class="display-img" alt="" height="19" width="136" src="//www.ibm.com/i/v14/t/left-nav-corner.gif"/></td></tr></table><br /><table width="150" cellspacing="0" cellpadding="0" border="0"><tr><td class="related" colspan="2"><b class="related">Related links</b></td></tr><tr class="rlinks"><td><img alt="" height="8" width="2" src="//www.ibm.com/i/v14/t/rl-bullet.gif"/></td><td><a class="rlinks" href="http://www.ibm.com/developerworks/views/opensource/library.jsp">Open source technical library</a></td></tr><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- No content currently --><!--END RESERVED FOR FUTURE USE INCLUDE FILES--><tr><td width="14"><img class="display-img" alt="" height="1" width="14" src="//www.ibm.com/i/c.gif"/></td><td width="136"><img class="display-img" alt="" height="19" width="136" src="//www.ibm.com/i/c.gif"/></td></tr></table><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- Next Steps Area:  Start -->
<!-- Commented out the include call in the dwmaster version of this file to prevent ajax calls
     being made during article previews and testing.  Live site has uncommented copy of this file (jpp) -->
<!-- Call Next Steps Servlet -->
<script language="JavaScript" type="text/javascript">
<!--
/*
 * ajaxInclude makes a call to the url and render the results in the div tag specified in divId
 */
function ajaxInclude(url, divId) { 
 var req = newXMLHttpRequest(); 
 if (req) { 
   req.onreadystatechange = getReadyStateHandler(req, 
	function (result) {  
           var contents = document.getElementById(divId);  
           if (result != null && result.length > 0 && contents != null) {
	     contents.innerHTML = result;  
           }
        }); 
   req.open("GET", url, true);
   req.send("");
 }
}
//-->
</script>

<!-- Display Next Steps Result -->
<div id="nextsteps"></div>

<!-- Initiate Next Steps Call -->
<script language="JavaScript" type="text/javascript">
<!-- 
 ajaxInclude("/developerworks/niagara/jsp/getNiagaraContent.jsp?url="+window.location.href,"nextsteps");
//-->
</script>
<!-- Next Steps Area:  End --><!--END RESERVED FOR FUTURE USE INCLUDE FILES--></td><!--LEFTNAV_END--><td width="100%"><table id="content-table" border="0" cellpadding="0" cellspacing="0" width="100%"><tr valign="top"><td width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr><td><a name="main"><img border="0" alt="skip to main content" height="1" width="592" src="//www.ibm.com/i/c.gif"/></a></td></tr></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr valign="top"><td height="18" width="10"><img alt="" height="18" width="10" src="//www.ibm.com/i/c.gif"/></td><td width="100%"><img alt="" height="6" width="1" src="//www.ibm.com/i/c.gif"/><br /><a href="http://www.ibm.com/developerworks/" class="bctl">developerWorks</a><span class="bct">Â Â &gt;Â Â </span><a class="bctl" href="http://www.ibm.com/developerworks/opensource/">Open source</a><span class="bct">Â Â &gt;</span><img alt="" height="1" width="1" src="//www.ibm.com/i/c.gif"/><br /><h1>Write a Firefox extension to rotate images in online mapping applications</h1><p id="subtitle"><em>Get a different perspective from online mapping tools by changing the view orientation</em></p><img alt="" height="6" width="1" src="//www.ibm.com/i/c.gif" class="display-img"/></td><td class="no-print" width="192"><a href="http://www.ibm.com/developerworks/"><img alt="developerWorks" border="0" height="18" width="192" src="/developerworks/i/dw.gif"/></a></td></tr></table></td></tr></table><table border="0" cellpadding="0" cellspacing="0" width="100%"><tr valign="top"><td width="10"><img alt="" height="1" width="10" src="//www.ibm.com/i/c.gif"/></td><td width="100%"><table class="no-print" border="0" width="160" cellspacing="0" cellpadding="0" align="right"><tr><td width="10"><img alt="" height="1" width="10" src="//www.ibm.com/i/c.gif"/></td><td><table width="150" cellspacing="0" cellpadding="0" border="0"><tr><td class="v14-header-1-small">Document options</td></tr></table><table class="v14-gray-table-border" cellspacing="0" cellpadding="0" border="0"><tr><td class="no-padding" width="150"><table width="143" cellspacing="0" cellpadding="0" border="0"><script language="JavaScript" type="text/javascript">
<!--
document.write('<tr valign="top"><td width="8"><img src="//www.ibm.com/i/c.gif" width="8" height="1" alt=""/></td><td width="16"><img alt="Set printer orientation to landscape mode" height="16" src="//www.ibm.com/i/v14/icons/printer.gif" width="16" vspace="3" /></td><td width="122"><p><b><a class="smallplainlink" href="javascript:print()">Print this page</a></b></p></td></tr>');
//-->
</script>
<noscript></noscript><script language="JavaScript" type="text/javascript">
<!-- 5.6 10/24 llk: added cdata around the subdirectory path of email gif-->
<!--
document.write('<tr valign="top"><td width="8"><img src="//www.ibm.com/i/c.gif" width="8" height="1" alt=""/></td><td width="16"><img src="//www.ibm.com/i/v14/icons/em.gif" height="16" width="16" vspace="3" alt="Email this page" /></td><td width="122"><p><a class="smallplainlink" href="javascript:void newWindow()"><b>E-mail this page</b></a></p></td></tr>');
//-->
</script><noscript><tr valign="top"><td width="8"><img alt="" height="1" width="8" src="//www.ibm.com/i/c.gif"/></td><td width="16"><img alt="" width="16" height="16" src="//www.ibm.com/i/c.gif"/></td><td class="small" width="122"><p><span class="ast">Document options requiring JavaScript are not displayed</span></p></td></tr></noscript><tr valign="top"><td width="8"><img alt="" height="1" width="8" src="//www.ibm.com/i/c.gif"/></td><td width="16"><img alt="" vspace="3" border="0" width="16" height="16" src="//www.ibm.com/i/v14/icons/dn.gif"/></td><td width="122"><p><a href="#download" class="smallplainlink"><b>Sample code</b></a></p></td></tr></table></td></tr></table><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!--Updated 9/25/08 by gem-->
<br /><table border="0" cellpadding="0" cellspacing="0" width="150"><tr><td class="v14-header-2-small">Learn and share!</td></tr></table><table border="0" cellpadding="0" cellspacing="0" class="v14-gray-table-border"><tr><td width="150" class="no-padding"><table border="0" cellpadding="0" cellspacing="0" width="143"><tr valign="top"><td width="8"><img src="//www.ibm.com/i/c.gif" width="8" height="1" alt=""/></td><td><img src="//www.ibm.com/i/v14/icons/fw_bold.gif" height="16" width="16" border="0" vspace="3" alt=""/></td><td width="125"><p><a href="http://www.ibm.com/developerworks/web/library/wa-piabeta/?S_TACT=105AGX01&amp;S_CMP=nsf" class="smallplainlink">Exchange know-how with your peers -- try our new Pass It Along beta app</a></p></td></tr></table></td></tr></table><!--END RESERVED FOR FUTURE USE INCLUDE FILES--><br /><table width="150" cellspacing="0" cellpadding="0" border="0"><tr><td class="v14-header-2-small">Rate this page</td></tr></table><table class="v14-gray-table-border" cellspacing="0" cellpadding="0" border="0"><tr><td class="no-padding" width="150"><table width="143" cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td width="8"><img alt="" height="1" width="8" src="//www.ibm.com/i/c.gif"/></td><td><img alt="" vspace="3" border="0" width="16" height="16" src="//www.ibm.com/i/v14/icons/d_bold.gif"/></td><td width="125"><p><a href="#rate" class="smallplainlink"><b>Help us improve this content</b></a></p></td></tr></table></td></tr></table><br /></td></tr></table><p>Level: Intermediate</p><p><a href="#author">Nathan Harrington</a>, Programmer, IBM<br /></p><p> 14 Oct  2008</p><blockquote>Learn how to use JavaScript and the Imager Perl module to interface with a Firefox extension for rotating image tiles in Google Maps.</blockquote><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><script type="text/javascript" language="javascript">
	     // <![CDATA[
			capture_referrer();
		 // ]]>
</script>

<!--  START : HTML FOR SEARCH REFERRER -->
  <div id="search_referrer_results" style="display:none">


<!--  START : HTML FOR ARTICLE SEARCH -->
  <div id="article_results" style="display:block"></div>
<!--  END : HTML FOR ARTICLE SEARCH -->

<!--  START : HTML FOR CODE SEARCH -->
   <div id="code_results" style="display:block"></div>
<!--  END : HTML FOR CODE SEARCH -->


   <br />
   <br />
   </div>
<!--  END : HTML FOR SEARCH REFERRER --><!--END RESERVED FOR FUTURE USE INCLUDE FILES-->

<p>Most online mapping applications assume that the desired view is always north at the
  top of the image.  This article presents tools  and code that show how to replace the
  map image with an inverted copy,  where south is at the top.  Using a Firefox extension
  and the Imager Perl module, each tile  that comprises the full image is extracted,
  rotated, and placed back in the image at the appropriate spot.  </p>

<p><a name="N10060"><span class="atitle">Hardware and software requirements</span></a></p>

<p>The rotation of images and extension processing requires little CPU power.  Anything
  manufactured after 2000 should provide plenty  of muscle for running the code presented here.</p>

<p>In addition to Firefox, you'll need the Imager Perl module, as well as Perl itself (see
  <a href="#resources">Resources</a>).  Although  tested exclusively on Firefox V3 and
  Ubuntu V7.10, the code should work on older versions of Firefox and any operating system that supports Perl.</p>

<br /><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr><td><img width="100%" src="//www.ibm.com/i/v14/rules/blue_rule.gif" height="1" alt=""/></td></tr></table><table class="no-print" cellspacing="0" cellpadding="0" align="right"><tr align="right"><td><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="middle"><img width="16" src="//www.ibm.com/i/v14/icons/u_bold.gif" height="16" border="0" alt=""/><br /></td><td valign="top" align="right"><a href="#main" class="fbox"><b>Back to top</b></a></td></tr></table></td></tr></table><br /><br /><p><a name="N10071"><span class="atitle">Description of rotation process</span></a></p>

<p>Rotating a handheld map is an simple way to more easily match your orientation with the
  navigational interface.  The  extension described below provides an interface to take a
  traditional map, like that  shown in Figure 1, and rotate it 180 degrees, like that shown in Figure 2.</p>


    <br /><a name="fig1"><b>Figure 1. North is up</b></a><br />
    <img alt="North is up" height="437" src="north.jpg" width="572"/>
<br />
  <br />


    <br /><a name="fig2"><b>Figure 2. South is now up</b></a><br />
    <img alt="South is now up" height="436" src="south.jpg" width="572"/>
<br />
  <br />

<p>The first step in building the <code>mapRotate</code> extension is to extract the framework used
  in the developerWorks article  "Integrate encryption into Google Calendar with Firefox
  extensions" (see <a href="#resources">Resources</a>).   Specifically, download the
  source code archive and extract  it to a directory of your choice. This article uses the /home/nathan/mapRotate directory.</p>

<br /><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr><td><img width="100%" src="//www.ibm.com/i/v14/rules/blue_rule.gif" height="1" alt=""/></td></tr></table><table class="no-print" cellspacing="0" cellpadding="0" align="right"><tr align="right"><td><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="middle"><img width="16" src="//www.ibm.com/i/v14/icons/u_bold.gif" height="16" border="0" alt=""/><br /></td><td valign="top" align="right"><a href="#main" class="fbox"><b>Back to top</b></a></td></tr></table></td></tr></table><br /><br /><p><a name="N100A7"><span class="atitle">Modifying the existing extension</span></a></p>

<p>Unpack the code file from the "Integrate encryption into Google Calendar with Firefox
  extensions" article into the directory   /home/nathan/mapRotate and replace the contents
  of the install.rdf file with that shown below.</p>

<br /><a name="listing1"><b>Listing 1. New install.rdf contents</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">

&lt;?xml version="1.0"?&gt;
&lt;RDF xmlns="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
     xmlns:em="http://www.mozilla.org/2004/em-rdf#"&gt;

  &lt;Description about="urn:mozilla:install-manifest"&gt;

    &lt;em:id&gt;mapRotate@devWorks_IBM.com&lt;/em:id&gt;
    &lt;em:name&gt;180 degree google map rotation&lt;/em:name&gt;
    &lt;em:version&gt;1.0.0&lt;/em:version&gt;
    &lt;em:description&gt;180 degree google map rotation&lt;/em:description&gt;
    &lt;em:creator&gt;Nathan Harrington&lt;/em:creator&gt;

    &lt;!-- Firefox --&gt;
    &lt;em:targetApplication&gt;
      &lt;Description&gt;
        &lt;em:id&gt;{ec8030f7-c20a-464f-9b0e-13a3a9e97384}&lt;/em:id&gt;
        &lt;em:minVersion&gt;1.5&lt;/em:minVersion&gt;
        &lt;em:maxVersion&gt;3.0.1&lt;/em:maxVersion&gt;
      &lt;/Description&gt;
    &lt;/em:targetApplication&gt;

  &lt;/Description&gt;

&lt;/RDF&gt;
</pre></td></tr></table><br />

<p>After the extension description data has been updated in install.rdf, changing the
  extension's functionality is performed by editing  overlay.xul and overlay.js.  Change to
  the chrome/content subdirectory  and edit the overlay.xul file.  Replace lines 8 and 9 with the code in Listing 2.</p>

<br /><a name="listing2"><b>Listing 2. overlay.xul key-press grabbers</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">

&lt;key id="quickgooglecalendar-key" modifiers="control" key="'" \ 
  oncommand="exportImages(event)" /&gt;
&lt;key id="quickgooglecalendar-key" modifiers="control" key="." \
  oncommand="resetImages(event)" /&gt;
</pre></td></tr></table><br />

<p>Note that the backslashes are to indicate line continuation and should not actually be
  placed in the overlay.xul file. Line 1  in the listing above (line 8 in overlay.js) will
  start the <code>exportImages</code> subroutine when the  user presses the <b>Ctrl+.</b> key
  combination, which will reset the images to their initial state.  Save and close the
  overlay.xul file, and at the beginning  of overlay.js, insert the lines shown in Listing
  3.</p>

<br /><a name="listing3"><b>Listing 3. overlay.js variables, <code>exportImages</code> function</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">

var origImgs = [];  // record the original filenames before rotation
var inverted = 0;   // current rotation mode
var tileDir = "/home/nathan/Desktop/";  // change to your directory

function exportImages()
{
    maxImg = 0;
    var allImgs = content.document.getElementsByTagName("IMG");
    for (var n = 0; n &lt; allImgs.length; n++){

      if( allImgs[n].src.indexOf( "v=nq.83" ) &gt; 0 )
      {
        saveURL( allImgs[n].src, null, null, false, true, null );
        origImgs[n] = allImgs[n].src;
        maxImg++;

      }//if image name match

    }//for all image tags

    // if enough images to process
    if( maxImg &gt; 3 )
    {
      var waitTim = maxImg * 200
      setTimeout('delayRotate()', waitTim );
    }//if enough images to process

}//exportImages
</pre></td></tr></table><br />

<p>Note that you'll need to modify the <code>tileDir</code> parameter to
  specify the location of files downloaded by Firefox.   For most instances, this is the
  Desktop directory.  The <code>exportImages</code> function as called by
  the <b>Ctrl+.</b> key combination loops  over every image in the Google Maps page.  If
  the image contains the <code>v=nq.83</code> string, which signifies a Map
  tile, the image is copied from  the cache to the tileDir directory.  By changing this
  string that is searched for, other  image tiles &#8212; such as satellite and
  terrain &#8212; can be processed.  Different strings can also be inserted in the
  <code>indexOf</code> function call to support other mapping applications,
  such as Yahoo! or Live maps.  </p>

<p>After each image is saved, a check for a minimum number of images to process will
  trigger a timeout-enabled call to the  <code>delayRotate</code> function. 
  The number of milliseconds to wait before  calling the <code>delayRotate</code> function is determined by simply  waiting 200
  milliseconds for each image.  For large numbers  of tile images on high-resolution
  screens, the <code>saveURL</code> function can cause a substantial delay
  as each image is copied  from the cache.  This <code>setTimeout</code>
  approach with a simple delay  computation is an easy way to make sure the image-rotation
  step is not performed before all  the images are ready. Listing 4 details the <code>delayRotate</code> function.</p>

<br /><a name="listing4"><b>Listing 4. overlay.js <code>delayRotate</code> function</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">

function delayRotate()
{
  var fileExe = Components.classes["@mozilla.org/file/local;1"]
                      .createInstance(Components.interfaces.nsILocalFile);
  fileExe.initWithPath( tileDir + "tileRotate.pl");
  var process = Components.classes["@mozilla.org/process/util;1"]
                      .createInstance(Components.interfaces.nsIProcess);
  process.init(fileExe);
  var args = [];
  args[0] = maxImg;
  args[1] = tileDir;
  process.run(true, args, args.length);


  var allImgs = content.document.getElementsByTagName("IMG");
  for (var n = 0; n &lt; allImgs.length; n++){

    if( allImgs[n].src.indexOf( "v=nq.83" ) &gt; 0 )
    {
      allImgs[n].src = "file://" + tileDir +  
                       "rotated.out/" + allImgs[n].src.substr(25) + ".png";

    }//if image name match

  }//for all image tags
  inverted =1;

}//delayRotate
</pre></td></tr></table><br />

<p>After defining an <code>nsIProcess</code> to call the external program
  and specifying the number of images and directory they  are saved in, the
  tileDir/tileRotate.pl program is run.  When the blocking  process run is complete, each
  image is then loaded from  the local file system at the appropriate location. 
  Programmers familiar with Firefox will remember that this loading  of local files from a
  document retrieved elsewhere is  not permitted by Firefox's security systems.  See <a href="#load">Firefox modifications, loading  the extension</a> to learn a simple approach
  to enable this particular Web site to load local  files.</p>

<p>Listing 5 continues with the <code>resetImages</code> function, added
  below the <code>exportImages</code> and <code>delayRotate</code> functions.</p>

<br /><a name="listing5"><b>Listing 5. overlay.js <code>resetImages</code> function</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">

function resetImages()
{
  if( inverted ==  1 )
  {
    inverted =0;
    var allImgs = content.document.getElementsByTagName("IMG");
 
    for (var n = 0; n &lt; allImgs.length; n++)
    {
      if( allImgs[n].src.indexOf( "v=nq.83" ) &gt; 0 )
      {
        allImgs[n].src = origImgs[n];
      }//if image to set back to
    }//for all image tags

  }// if in inverted mode

}//resetImages
</pre></td></tr></table><br />

<p>If the current mode is inverted, the <code>resetImages</code> function
  loops through every tile image and resets the  URL back to the original, which
  immediately reverts the image to the nonrotated  version in the cache.</p>

<br /><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr><td><img width="100%" src="//www.ibm.com/i/v14/rules/blue_rule.gif" height="1" alt=""/></td></tr></table><table class="no-print" cellspacing="0" cellpadding="0" align="right"><tr align="right"><td><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="middle"><img width="16" src="//www.ibm.com/i/v14/icons/u_bold.gif" height="16" border="0" alt=""/><br /></td><td valign="top" align="right"><a href="#main" class="fbox"><b>Back to top</b></a></td></tr></table></td></tr></table><br /><br /><p><a name="N1014D"><span class="atitle">tileRotate.pl program &#8212; Rotating exported tiles</span></a></p>

<p>With the modifications to the existing extension complete, the next step is to create
  the tileRotate.pl Perl program that handles the  rotation and translation of the image
  tiles. Change to the directory specified above as the <i>tileDir</i> variable
  (/home/nathan/Desktop/ in this example).  Create a  file called tileRotate.pl with the
  code in Listing 6.</p>

<br /><a name="listing6"><b>Listing 6. tileRotate.pl validity checks, variable declaration</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">

#!/usr/bin/perl -w
# tileRotate.pl - rotate and translate locations of Google Maps tiles
use strict;
use Imager;

die "specify number of tiles, directory " unless @ARGV == 2;
my $numTiles = $ARGV[0];
my $tileDir  = $ARGV[1];

# remove and rotated originals
my $res = `rm $tileDir/rotated.out/*.png`;

my @origTiles = `ls $tileDir/v\=nq.83*`;

if( ($#origTiles+1) != $numTiles )
{
  # remove originals for easier problem solving
  $res = `rm $tileDir/v\=nq*`;
  die "number of images does not match\n";

}#if number of tiles does not match

my $row = 0;        # temporary row tracker
my %vals = ();      # filename for a given col,row tile
my $maxCol = 0;     # maximum columns
my $maxRow = 0;     # maximum rows
my $lastXval = -1;  # temporary tracker to increment the row
</pre></td></tr></table><br />

<p>As shown above, the tileRotate.pl script requires a number of tiles and a
  tile directory as input variables.  After removing  any existing rotated images, the
  number of tiles saved on disk is read.  If  your processing continuously dies at this
  point, it's likely not enough time  is being given between the nonblocking <code>saveURL</code> calls and the time the tileRotate.pl process is called. 
  Consider increasing the millisecond multiplier  from 200 to 400 to give your system more
  time to save the image  tiles before the rotate process begins.  If the number of tiles
  on disk matches the expected  number, processing continues. The tileRotate.pl program
  continues below.</p>

<br /><a name="listing7"><b>Listing 7. tileRotate.pl filename to column and row mapping</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">

for my $tile( @origTiles )
{
  # get the x and y values from the filename
  chomp($tile);
  my @vals = split '=', $tile;
  my $xVal = substr($vals[3],0,index( $vals[3], '&amp;') );
  my $yVal = substr($vals[4],0,index( $vals[4], '&amp;') );

  if( $lastXval == -1 )
  {
    # set the current lastXval if it's the first one
    $lastXval = $xVal;

  }elsif( $lastXval ne $xVal )
  {
    # wrap the row, and increase the total number of columns
    $row = 0;
    $lastXval = $xVal;
    $maxCol++;

  }else
  {
    # normal increase of row, record the maximum number of rows
    $row++;
    if( $row &gt; $maxRow ){ $maxRow = $row }

  }

  # set the filename to the current computed column,row position
  $vals{ $maxCol }{ $row } = $tile;

}#for each tile
</pre></td></tr></table><br />

<p>Each filename/tile recorded in the <code>@origTiles</code> array is saved
  to disk by the extension.  These files can  have nonsequential <code>x=</code> parameters, or jump by a  large quantity between columns.  The
  <code>for</code> loop in Listing 7 translates their filename vagaries into
  simple X,Y (column and  row) coordinates, and stores their values in the <code>%vals</code> hash.  For example, the code above will record a tile with a
  filename like v=w2.80&amp;hl=en&amp;x=228&amp;y=4&amp;zoom=15&amp;s=Gal to be at
  position 0,4 in the <code>(column,row)</code> hash.  This development of a
  filename tied to a coordinate is required to  accurately translate the rotated tiles to
  their proper post-rotation position. Listing 8 demonstrates the rotation and translation using the Imager module.</p>

<br /><a name="listing8"><b>Listing 8. tileRotate.pl rotation and translation of the image tiles</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">

for( my $colCount = $maxCol; $colCount &gt;= 0; $colCount-- )
{
  for( my $rowCount = $maxRow; $rowCount &gt;= 0; $rowCount-- )
  {
    # read the original tile assigned those coordinates
    my $chunk = Imager-&gt;new();
    $chunk-&gt;read( file=&gt; "$vals{ $colCount }{ $rowCount }" ) or
      die "can't read image tile ";

    $chunk-&gt;flip(dir=&gt;"v");

    # write the tile out to it's appropriately translated position (filename)
    my $fname = substr($vals{ $colCount }{ $maxRow-$rowCount }, 21);
    $chunk-&gt;write( file=&gt;"$tileDir/rotated.out/$fname.png") or
      die "can't write chunk ", $chunk-&gt;errstr, "\n";

  }#for rows

}#for columsn

# remove originals
$res = `rm $tileDir/v\=nq*`;
</pre></td></tr></table><br />

<p>Across each row and down each column, the appropriate tile is read from those saved in
  the <code>tileDir</code>. These tiles are then rotated 180 degrees and
  saved with the filename of its appropriately  translated position.  Using the same
  filename suffix makes transitioning from rotated  and back easier in the JavaScript
  <code>resetImages</code> function.</p>

<br /><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr><td><img width="100%" src="//www.ibm.com/i/v14/rules/blue_rule.gif" height="1" alt=""/></td></tr></table><table class="no-print" cellspacing="0" cellpadding="0" align="right"><tr align="right"><td><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="middle"><img width="16" src="//www.ibm.com/i/v14/icons/u_bold.gif" height="16" border="0" alt=""/><br /></td><td valign="top" align="right"><a href="#main" class="fbox"><b>Back to top</b></a></td></tr></table></td></tr></table><br /><br /><p><a name="load"><span class="atitle">Firefox modifications, loading the extension</span></a></p>

<p>As mentioned, you need to modify the Firefox security settings to allow loading of
  local file information by a Web  page loaded from maps.google.com.  After closing all
  Firefox processes, add the lines  in Listing 9 to the prefs.js in your Mozilla profile
  directory.</p>

<br /><a name="listing"><b>Listing 9. Modify Firefox security settings</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">

user_pref("capability.policy.localfilelinks.checkloaduri.enabled","allAccess");
user_pref("capability.policy.localfilelinks.sites", "http://maps.google.com");
user_pref("capability.policy.policynames", "localfilelinks");
</pre></td></tr></table><br />

<p>Note that it's possible maps.google.com can try to access files on your local machine
  if you enable this option.  Consult other extensions and  the Mozilla Developer Center
  for information on how to temporarily enable  these options during a call for rotation.
  You'll also need to add the local <code>mapRotate</code> extension to your
  Firefox extensions library.  Both the  "Integrate encryption into Google Calendar with
  Firefox extensions" and Mozilla developers resources  provide documentation about adding
  a local extension to your  Firefox environment.  See Listing 10 for the basics on
  adding the <code>mapRotate</code> extension.</p>

<br /><a name="listing10"><b>Listing 10. Commands to add the <code>mapRotate</code> extension to Firefox</b></a><br /><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td class="code-outline"><pre class="displaycode">

cd ~/.mozilla/firefox/m717dved/extensions
cat &gt; mapRotate@devWorks_IBM.com
(then paste the line:)
/home/nathan/mapRotate/
</pre></td></tr></table><br />

<br /><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr><td><img width="100%" src="//www.ibm.com/i/v14/rules/blue_rule.gif" height="1" alt=""/></td></tr></table><table class="no-print" cellspacing="0" cellpadding="0" align="right"><tr align="right"><td><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="middle"><img width="16" src="//www.ibm.com/i/v14/icons/u_bold.gif" height="16" border="0" alt=""/><br /></td><td valign="top" align="right"><a href="#main" class="fbox"><b>Back to top</b></a></td></tr></table></td></tr></table><br /><br /><p><a name="N101CE"><span class="atitle">Usage</span></a></p>

<p>Change to the directory specified by the <code>tileDir</code>
  parameter and create a directory called rotated.out.  In the  example above, the directory created is /home/nathan/Desktop/rotated.out/.</p>

<p>Start Firefox and make sure the extension is loaded.  Adding options to your
  environment &#8212; such as the "Extension Developers Extension" &#8212; are very useful for
  diagnosing problems or other issues  you may have with your setup.  If you're confident
  the extension is loaded correctly, view  a street address on maps.google.com and press
  <b>Ctrl+.</b>.  Wait a few seconds (depending on the number of tiles to be processed),
  and you will see the  map rotated 180 degrees to give you a new perspective on the geography.</p>

<p>Before moving the map, make sure you press <b>Ctrl+.</b> to reset the tiles to their
  original URLs.  This is critical to the  effective redisplaying of rotated tiles after the map has been moved.</p>

<p><a name="N101EC"><span class="atitle">Conclusion, further examples</span></a></p>

<p>With the tools and code presented above, you can create a rotated map within the
  existing interface.  Similar to the maps.live.com bird's-eye view rotation, such
  displays create a unique view of the environment  and a new perspective on the
  surrounding area.  Consider modifying the  code to support each cardinal direction
  of rotation, add satellite  imagery rotation, or expand the acceptable URL strings to support other mapping applications.</p>

<br /><br /><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr><td><img width="100%" src="//www.ibm.com/i/v14/rules/blue_rule.gif" height="1" alt=""/></td></tr></table><table class="no-print" cellspacing="0" cellpadding="0" align="right"><tr align="right"><td><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="middle"><img width="16" src="//www.ibm.com/i/v14/icons/u_bold.gif" height="16" border="0" alt=""/><br /></td><td valign="top" align="right"><a href="#main" class="fbox"><b>Back to top</b></a></td></tr></table></td></tr></table><br /><br /><p><span class="atitle"><a name="download">Download</a></span></p><table width="100%" class="data-table-1" cellspacing="0" cellpadding="0" border="0"><tr><th scope="col">Description</th><th scope="col">Name</th><th scope="col">Size</th><th scope="col">Download method</th></tr><tr><th class="tb-row" scope="row">Sample code</th><td nowrap="nowrap">os-firefox-rotate-images-mapRotate_0.1.zip</td><td nowrap="nowrap">11KB</td><td nowrap="nowrap"><a class="fbox" href="http://www.ibm.com/developerworks/apps/download/index.jsp?contentid=344201&amp;filename=os-firefox-rotate-images-mapRotate_0.1.zip&amp;method=http&amp;locale=worldwide"><b>HTTP</b></a></td></tr></table><table cellspacing="0" cellpadding="0" border="0"><tr valign="top"><td colspan="5"><img alt="" width="12" height="12" border="0" src="//www.ibm.com/i/c.gif"/></td></tr><tr><td><img alt="" height="16" width="16" src="//www.ibm.com/i/v14/icons/fw.gif"/></td><td><a class="fbox" href="/developerworks/library/whichmethod.html">Information about download methods</a></td><td><img alt="" height="1" width="50" src="//www.ibm.com/i/c.gif"/></td></tr></table><br /><br /><p><a name="resources"><span class="atitle">Resources</span></a></p><b>Learn</b><br /><ul><li>
  Read the developerWorks article "<a href="http://www.ibm.com/developerworks/web/library/wa-googlecal/" onmouseover="linkQueryAppend(this)">Integrate encryption 
into Google Calendar with Firefox extensions</a>,"  download the source code archive, and
  extract it to a directory of your choice.<br /><br /></li><li>
  Mozilla has many excellent articles about <a href="http://developer.mozilla.org/en/docs/Setting_up_extension_development_environment">Extension
 Development</a> at the  <a href="http://developer.mozilla.org/">Mozilla Developer Center</a>.<br /><br /></li><li>
  For more information about working with Firefox, the <a href="http://ted.mielczarek.org/code/mozilla/extensiondev/">Extension Developers  Extension</a> is very useful.<br /><br /></li><li>
  Find helpful <a href="http://www.borngeek.com/firefox/">Firefox extensions articles and
tutorials</a> at <a href="http://www.borngeek.com/">BornGeek.com</a>. <br /><br /></li><li>
  Learn how to <a href="http://search.cpan.org/perldoc?perlmodinstall">install Perl
modules</a> and read  more about <a href="http://www.perl.org/docs.html">Perl</a>.<br /><br /></li><li>
To listen to interesting interviews and discussions for software developers, check out <a href="http://www.ibm.com/developerworks/podcast/" onmouseover="linkQueryAppend(this)">developerWorks  podcasts</a>.<br /><br /></li><li>
Stay current with developerWorks' <a href="http://www.ibm.com/developerworks/offers/techbriefings/" onmouseover="linkQueryAppend(this)">Technical events and webcasts</a>.<br /><br /></li><li>
Check out upcoming conferences, trade shows, webcasts, and other <a href="http://www.ibm.com/developerworks/views/opensource/events.jsp" onmouseover="linkQueryAppend(this)">Events</a> around the world that are of interest to IBM open source developers.<br /><br /></li><li>
Visit the developerWorks <a href="http://www.ibm.com/developerworks/opensource" onmouseover="linkQueryAppend(this)">Open source zone</a> for extensive how-to information, tools, and project updates to help you develop with open source technologies and use them with IBM's products.<br /><br /></li><li>
Watch and learn about IBM and open source technologies and product functions with the no-cost <a href="http://www.ibm.com/developerworks/offers/lp/demos/" onmouseover="linkQueryAppend(this)">developerWorks On demand demos</a>.<br /><br /></li></ul><br /><b>Get products and technologies</b><br /><ul><li>
  Download the <a href="http://search.cpan.org/perldoc?Imager">Imager</a> module from  <a href="http://www.cpan.org/">CPAN</a>.<br /><br /></li><li>
  UNIX&#174; and Linux&#174; users: If you're new to installing Perl modules,
  install Andreas J. Konig's  <a href="http://search.cpan.org/perldoc?CPAN">CPAN 
  module</a>, which automates the installation of other modules.<br /><br /></li><li>
  Download <a href="http://www.perl.org/get.html">Perl</a> or <a href="http://www.perl.org/docs.html">read about Perl</a>  at <a href="http://www.perl.org/">Perl.org</a>.<br /><br /></li><li>
Innovate your next open source development project with <a href="http://www.ibm.com/developerworks/downloads/" onmouseover="linkQueryAppend(this)">IBM trial software</a>, available for download or on DVD.<br /><br /></li><li>
Download <a href="http://www.ibm.com/developerworks/downloads/" onmouseover="linkQueryAppend(this)">IBM product evaluation versions</a>, and get your hands on application development tools and middleware products from DB2&#174;, Lotus&#174;, Rational&#174;, Tivoli&#174;, and WebSphere&#174;.</li></ul><br /><b>Discuss</b><br /><ul><li>
Participate in <a href="http://www.ibm.com/developerworks/blogs" onmouseover="linkQueryAppend(this)">developerWorks blogs</a> and get involved in the developerWorks community.<br /><br /></li></ul><br /><br /><p><a name="author"><span class="atitle">About the author</span></a></p><table border="0" cellspacing="0" cellpadding="0" width="100%"><tr><td colspan="3"><img alt="" width="100%" height="5" src="//www.ibm.com/i/c.gif"/></td></tr><tr align="left" valign="top"><td><p/></td><td><img alt="" width="4" height="5" src="//www.ibm.com/i/c.gif"/></td><td width="100%"><p>Nathan Harrington is a programmer at IBM currently working with Linux and resource-locating technologies.</p></td></tr></table><br /><br /><br /><p class="no-print"><span class="atitle"><a name="rate">Rate this page</a></span></p><span class="no-print"><form action="http://www-128.ibm.com/developerworks/utils/RatingsHandler" method="post"><input value="1" name="SITE_ID" type="hidden"/><input value="Write a Firefox extension to rotate images in online mapping applications" name="ArticleTitle" type="hidden"/><input value="Open source" name="Zone" type="hidden"/><input value="http://www.ibm.com/developerworks/thankyou/feedback-thankyou.html" name="RedirectURL" type="hidden"/><input value="344201" name="ArticleID" type="hidden"/><input value="10142008" name="publish-date" type="hidden"/><input type="hidden" name="author1-email" value="harrington.nathan_@gmail.com" /><input type="hidden" name="author1-email-cc" value="" /><script language="javascript" type="text/javascript">document.write('<input type="hidden" name="url" value="'+location.href+'" />');</script><img width="100%" src="//www.ibm.com/i/v14/rules/gray_rule.gif" height="1" alt=""/><br /><table width="100%" class="v14-gray-table-border" cellspacing="0" cellpadding="0" border="0"><tr><td width="100%"><table width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td colspan="3"><p>Please take a moment to complete this form to help us better serve you.</p></td></tr><tr valign="top"><td width="140"><img width="140" src="//www.ibm.com/i/c.gif" height="1" alt=""/><br /><p><label for="Goal">Did the information help you to achieve your goal?</label></p></td><td width="303"><img width="303" src="//www.ibm.com/i/c.gif" height="6" alt=""/><br /><table width="100%" cellspacing="0" cellpadding="0" border="0"><tr><td><input value="Yes" id="goal-yes" name="goal" type="radio"/><label for="goal-yes">Yes</label></td><td><input value="No" id="goal-no" name="goal" type="radio"/><label for="goal-no">No</label></td><td><input value="Don't know" id="goal-undecided" name="goal" type="radio"/><label for="goal-undecided">Don't know</label></td></tr></table></td><td width="100%">Â </td></tr><tr><td colspan="3"><img alt="" height="12" width="8" src="//www.ibm.com/i/c.gif"/></td></tr><tr valign="top"><td width="140"><img width="140" src="//www.ibm.com/i/c.gif" height="1" alt=""/><br /><p><label for="Comments">Please provide us with comments to help improve this page:</label></p></td><td width="303"><img width="303" src="//www.ibm.com/i/c.gif" height="6" alt=""/><br /><table width="100%" cellspacing="0" cellpadding="0" border="0"><tr><td><textarea class="iform" cols="35" rows="5" wrap="virtual" id="Comments" name="Comments">Â </textarea></td></tr></table></td><td width="100%">Â </td></tr><tr><td colspan="3"><img alt="" height="12" width="8" src="//www.ibm.com/i/c.gif"/></td></tr><tr valign="top"><td width="140"><img width="140" src="//www.ibm.com/i/c.gif" height="1" alt=""/><br /><p><label for="Rating">How useful is the information?</label></p></td><td width="303"><img width="303" src="//www.ibm.com/i/c.gif" height="6" alt=""/><br /><table width="100%" cellspacing="0" cellpadding="0" border="0"><tr><td align="left" width="58"><input value="1" id="Rating1" name="Rating" type="radio"/><label for="Rating1">1</label></td><td align="left" width="58"><input value="2" id="Rating2" name="Rating" type="radio"/><label for="Rating2">2</label></td><td align="left" width="58"><input value="3" id="Rating3" name="Rating" type="radio"/><label for="Rating3">3</label></td><td align="left" width="58"><input value="4" id="Rating4" name="Rating" type="radio"/><label for="Rating4">4</label></td><td align="left" width="61"><input value="5" id="Rating5" name="Rating" type="radio"/><label for="Rating5">5</label></td></tr><tr><td align="left" width="60"><span class="greytext">Not</span><br /><span class="greytext">useful</span></td><td align="left" width="60"><img src="//www.ibm.com/i/c.gif" height="1" width="1" alt=""/></td><td align="left" width="60"><img src="//www.ibm.com/i/c.gif" height="1" width="1" alt=""/></td><td align="left" width="60"><img src="//www.ibm.com/i/c.gif" height="1" width="1" alt=""/></td><td align="left" width="63"><span class="greytext">Extremely<br />useful</span></td></tr></table></td><td width="100%">Â </td></tr></table></td></tr></table><table class="v14-gray-table-border" width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td colspan="3"><img alt="" height="8" width="8" src="//www.ibm.com/i/c.gif"/></td></tr><tr><td width="8"><img alt="" height="1" width="8" src="//www.ibm.com/i/c.gif"/></td><td colspan="3"><input alt="Submit" height="21" width="120" border="0" src="//www.ibm.com/i/v14/buttons/submit.gif" type="image"/></td></tr><tr><td colspan="3"><img alt="" height="8" width="8" src="//www.ibm.com/i/c.gif"/></td></tr></table></form><br /></span><br /><p><table width="100%" cellpadding="5" cellspacing="0" border="0">
<tr><td><span class="atitle">Share this.... </span><p>
<table cellpadding="0" cellspacing="0" width="100%" border="0">
<tr align="left" valign="top">
<td width="21">
	<a href="javascript:location.href='http://digg.com/submit?phase=2&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)">
<img src="http://www.ibm.com/i/v14/icons/10x10-digg-thumb.gif" width="10" height="10" alt="digg" border="0"/></a></td>
	<td width="120">
             <a href="javascript:location.href='http://digg.com/submit?phase=2&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)"><span style="nowrap">Digg this story</span></a></td>

<!--<td width="8"><img alt="" height="1" width="8" src="//www.ibm.com/i/c.gif"/></td>-->
<td width="21"><img src="/developerworks/i/icon_delicious.gif" height="16" width="16" alt="del.icio.us" border="0"/> </td>
<td width="100"><a class="fbox" href="http://del.icio.us/post" onclick="window.open('http://del.icio.us/post?v=4&amp;noui&amp;jump=close&amp;url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title), 'delicious','toolbar=no,width=700,height=400'); return false;"><span style="nowrap">del.icio.us</span></a></td>

<!--<td width="8"><img alt="" height="1" width="8" src="//www.ibm.com/i/c.gif"/></td>-->
<td width="21">
	<!-- start Slashdot it link -->
	<a href="javascript:location.href='http://slashdot.org/bookmark.pl?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)">
									<img src="/developerworks/i/slashdot-favicon.gif" alt="Slashdot" border="0" height="16" width="16"/></a></td>
	<td width="120"><a href="javascript:location.href='http://slashdot.org/bookmark.pl?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title)">Slashdot it!</a></td>
<!--<td width="8"><img alt="" height="1" width="8" src="//www.ibm.com/i/c.gif"/></td>-->
<td><img alt="" height="5" width="8" src="//www.ibm.com/i/c.gif"/></td>
</tr>

</table></p>
</td></tr></table>
</p><!--START RESERVED FOR FUTURE USE INCLUDE FILES--><!-- NO RESERVED CONTENT --><!--END RESERVED FOR FUTURE USE INCLUDE FILES--><br /><span class="no-print"><table cellspacing="0" cellpadding="0" align="right"><tr align="right"><td><table border="0" cellpadding="0" cellspacing="0"><tr><td valign="middle"><img width="16" src="//www.ibm.com/i/v14/icons/u_bold.gif" height="16" border="0" alt=""/><br /></td><td valign="top" align="right"><a href="#main" class="fbox"><b>Back to top</b></a></td></tr></table></td></tr></table><br /><br /></span></td><td width="10"><img alt="" height="1" width="10" src="//www.ibm.com/i/c.gif"/></td></tr></table></td></tr></table><!--FOOTER_BEGIN--><div id="ibm-page-tools">
<!-- IBM page tools -->
</div>
<div id="ibm-footer">
<ul>
<li class="ibm-first"><a href="http://www.ibm.com/ibm/us/en/">About IBM</a></li>
<li><a href="http://www.ibm.com/privacy/us/en/">Privacy</a></li>
<li><a href="http://www.ibm.com/contact/us/en/">Contact</a></li>
<li><a href="http://www.ibm.com/legal/us/en/">Terms of use</a></li>
</ul>
</div>

</div>

<script type="text/javascript" language="JavaScript1.2" src="//www.ibm.com/common/stats/stats.js"></script>
<noscript><img src="//stats.www.ibm.com/rc/images/uc.GIF?R=noscript" width="1" height="1" alt="" border="0" /></noscript><!--FOOTER_END--><!--XSLT stylesheet used to transform this file:  dw-document-html-5.10.xsl--></body></html>